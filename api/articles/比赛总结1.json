{"title":"【个人总结】23-11-22 基础能力提升训练① 比赛总结","uid":"c40f6896e2fc868cbe4fe3c1016323a8","slug":"比赛总结1","date":"2023-11-27T13:03:10.000Z","updated":"2023-11-30T07:12:09.459Z","comments":true,"path":"api/articles/比赛总结1.json","keywords":null,"cover":[],"content":"<p><a href=\"https://www.luogu.com.cn/contest/146400#problems\">23-11-22 基础能力提升训练①</a></p>\n<p>文章同载于<a href=\"https://blog.csdn.net/wbw121124/article/details/134561745\">CSDN</a></p>\n<p><img src=\"https://cdn.luogu.com.cn/upload/image_hosting/8kfbxqbs.png\"></p>\n<h1 id=\"D-CSP-J-2023-公路\"><a href=\"#D-CSP-J-2023-公路\" class=\"headerlink\" title=\"D [CSP-J 2023] 公路\"></a>D <a href=\"https://www.luogu.com.cn/problem/P9749\">[CSP-J 2023] 公路</a></h1><p>今年（2023年）CSP-J T2，贪心。</p>\n<ul>\n<li>贪心思想：<ul>\n<li>找到一个比当前选定更优的、在选定的右边的站点，在那里停下加油。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<p>代码：</p>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">bits/stdc++.h</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">debug</span><span style=\"color: #BABED8\"> false //debug作为调试开关</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">int</span><span style=\"color: #BABED8\"> long long</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">namespace</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> n</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">d</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">v</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">100005</span><span style=\"color: #89DDFF\">],</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">100005</span><span style=\"color: #89DDFF\">],</span><span style=\"color: #BABED8\">ans</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">b</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">c</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">double</span><span style=\"color: #BABED8\"> s</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">signed</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">ios</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">sync_with_stdio</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cin</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">tie</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">),</span><span style=\"color: #BABED8\"> cout</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">tie</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cin</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">d</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        cin</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">v</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        cin</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    b</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\">v</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">],</span><span style=\"color: #BABED8\">c</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">c</span><span style=\"color: #89DDFF\">]&gt;</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">])</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">s</span><span style=\"color: #89DDFF\">&lt;(</span><span style=\"color: #F78C6C\">1.00</span><span style=\"color: #89DDFF\">*</span><span style=\"color: #F07178\">b</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #F07178\">d</span><span style=\"color: #89DDFF\">))</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                ans</span><span style=\"color: #89DDFF\">+=</span><span style=\"color: #82AAFF\">ceil</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">1.00</span><span style=\"color: #89DDFF\">*</span><span style=\"color: #F07178\">b</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #F07178\">d</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #F07178\">s</span><span style=\"color: #89DDFF\">)*</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">c</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#if</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">debug</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\">ans</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #BABED8\">\\n</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#endif</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                s</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #82AAFF\">ceil</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">1.00</span><span style=\"color: #89DDFF\">*</span><span style=\"color: #F07178\">b</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #F07178\">d</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #F07178\">s</span><span style=\"color: #89DDFF\">)-(</span><span style=\"color: #F78C6C\">1.00</span><span style=\"color: #89DDFF\">*</span><span style=\"color: #F07178\">b</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #F07178\">d</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #F07178\">s</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                c</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                b</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF; font-style: italic\">else</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                s</span><span style=\"color: #89DDFF\">-=(</span><span style=\"color: #F78C6C\">1.00</span><span style=\"color: #89DDFF\">*</span><span style=\"color: #F07178\">b</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #F07178\">d</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                b</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                c</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        b</span><span style=\"color: #89DDFF\">+=</span><span style=\"color: #BABED8\">v</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">&lt;(</span><span style=\"color: #F78C6C\">1.00</span><span style=\"color: #89DDFF\">*</span><span style=\"color: #BABED8\">b</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #BABED8\">d</span><span style=\"color: #89DDFF\">))</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        ans</span><span style=\"color: #89DDFF\">+=</span><span style=\"color: #82AAFF\">ceil</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">1.00</span><span style=\"color: #89DDFF\">*</span><span style=\"color: #BABED8\">b</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #BABED8\">d</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">)*</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">c</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">ans</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span></code></pre></div><h1 id=\"E-修复公路\"><a href=\"#E-修复公路\" class=\"headerlink\" title=\"E 修复公路\"></a>E <a href=\"https://www.luogu.com.cn/problem/P1111\">修复公路</a></h1><p>可以使用并查集+二分/最小生成树。<del>（比赛时用二分，忘记特判）</del></p>\n<p>代码：</p>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">bits/stdc++.h</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">debug</span><span style=\"color: #BABED8\"> false</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">int</span><span style=\"color: #BABED8\"> long long</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">namespace</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> n</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">1005</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">struct</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">node</span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">y</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">t</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">100005</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">bool</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">cmp</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FFCB6B\">node</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFCB6B\">node</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> x</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">t</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">t</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">x</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]==</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> x</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]=</span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">unionn</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    x</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    y</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">!=</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]=</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">bool</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">check</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">mid</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">]=</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">t</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">mid</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #82AAFF\">unionn</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">else</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #89DDFF; font-style: italic\">break</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> f</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">f</span><span style=\"color: #89DDFF\">!=</span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">))</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">false;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">true;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">signed</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">ios</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">sync_with_stdio</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cin</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">tie</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">),</span><span style=\"color: #BABED8\"> cout</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">tie</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cin</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        cin</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">t</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #82AAFF\">sort</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">+</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">+</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">+</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">cmp</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> l</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">r</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">100001</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">while</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">l</span><span style=\"color: #89DDFF\">+</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #BABED8\">r</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> mid</span><span style=\"color: #89DDFF\">=(</span><span style=\"color: #F07178\">l</span><span style=\"color: #89DDFF\">+</span><span style=\"color: #F07178\">r</span><span style=\"color: #89DDFF\">)/</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">check</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">mid</span><span style=\"color: #89DDFF\">))</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            r</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\">mid</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF; font-style: italic\">else</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            l</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\">mid</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(!</span><span style=\"color: #82AAFF\">check</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">r</span><span style=\"color: #89DDFF\">))</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        cout</span><span style=\"color: #89DDFF\">&lt;&lt;-</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">r</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span></code></pre></div><h1 id=\"F-炸铁路\"><a href=\"#F-炸铁路\" class=\"headerlink\" title=\"F 炸铁路\"></a>F <a href=\"https://www.luogu.com.cn/problem/P1656\">炸铁路</a></h1><p>只会写暴力，暴力不会超时。 <del>（暴力+并查集 好写一些）</del></p>\n<p>代码：</p>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">bits/stdc++.h</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">debug</span><span style=\"color: #BABED8\"> false</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">int</span><span style=\"color: #BABED8\"> long long</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">namespace</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> n</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">155</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">struct</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">node</span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">y</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">5005</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">x</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]==</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> x</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]=</span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">unionn</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    x</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    y</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">!=</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]=</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">bool</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">check</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">mid</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">]=</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">!=</span><span style=\"color: #BABED8\">mid</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #82AAFF\">unionn</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> f</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">f</span><span style=\"color: #89DDFF\">!=</span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">))</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">true;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">false;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">bool</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">cmp</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FFCB6B\">node</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFCB6B\">node</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">!=</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> x</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> x</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">signed</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">ios</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">sync_with_stdio</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cin</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">tie</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">),</span><span style=\"color: #BABED8\"> cout</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">tie</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cin</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">n</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        cin</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #82AAFF\">swap</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #82AAFF\">sort</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">+</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">+</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">+</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\">cmp</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">check</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">))</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">a</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">].</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #BABED8\">\\n</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span></code></pre></div><h1 id=\"作业题\"><a href=\"#作业题\" class=\"headerlink\" title=\"作业题\"></a>作业题</h1><h2 id=\"G-集合\"><a href=\"#G-集合\" class=\"headerlink\" title=\"G 集合\"></a>G <a href=\"https://www.luogu.com.cn/problem/P1621\">集合</a></h2><h3 id=\"题目描述\"><a href=\"#题目描述\" class=\"headerlink\" title=\"题目描述\"></a>题目描述</h3><p>Caima 给你了所有 <mjx-container class=\"MathJax\" jax=\"SVG\"><svg style=\"vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.431ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 1958.7 1000\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mo\"><path data-c=\"5B\" d=\"M118 -250V750H255V710H158V-210H255V-250H118Z\"></path></g><g data-mml-node=\"mi\" transform=\"translate(278,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\"></path></g><g data-mml-node=\"mo\" transform=\"translate(807,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\"></path></g><g data-mml-node=\"mi\" transform=\"translate(1251.7,0)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\"></path></g><g data-mml-node=\"mo\" transform=\"translate(1680.7,0)\"><path data-c=\"5D\" d=\"M22 710V750H159V-250H22V-210H119V710H22Z\"></path></g></g></g></svg></mjx-container> 范围内的整数。一开始每个整数都属于各自的集合。每次你需要选择两个属于不同集合的整数，如果这两个整数拥有大于等于 <mjx-container class=\"MathJax\" jax=\"SVG\"><svg style=\"vertical-align: -0.439ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.138ex\" height=\"1.439ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -442 503 636\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\"></path></g></g></g></svg></mjx-container> 的 <strong>公共质因数</strong> ，那么把它们所在的集合合并。</p>\n<p>重复如上操作，直到没有可以合并的集合为止。</p>\n<p>现在 Caima 想知道，最后有多少个集合。</p>\n<h3 id=\"答案\"><a href=\"#答案\" class=\"headerlink\" title=\"答案\"></a>答案</h3><p>并查集+素数筛（我用的是欧拉筛）。</p>\n<p>代码:</p>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">bits/stdc++.h</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">debug</span><span style=\"color: #BABED8\"> false</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">int</span><span style=\"color: #BABED8\"> long long</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">namespace</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> a</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> b</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">100005</span><span style=\"color: #89DDFF\">],</span><span style=\"color: #BABED8\"> ans</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> p</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> c</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">100005</span><span style=\"color: #89DDFF\">],</span><span style=\"color: #BABED8\"> cnt</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">bool</span><span style=\"color: #BABED8\"> vis</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">100005</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">init</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\"> b</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        vis</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">true;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\"> b</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">vis</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">])</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                </span><span style=\"color: #BABED8\">c</span><span style=\"color: #89DDFF\">[++</span><span style=\"color: #F07178\">cnt</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> i</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> j </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #F07178\"> j </span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #F07178\"> cnt</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #F07178\"> j</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">i </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">c</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">j</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #F07178\"> b</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                    </span><span style=\"color: #89DDFF; font-style: italic\">break</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                </span><span style=\"color: #BABED8\">vis</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">c</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">j</span><span style=\"color: #89DDFF\">]]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">false;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">i </span><span style=\"color: #89DDFF\">%</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">c</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">j</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                    </span><span style=\"color: #89DDFF; font-style: italic\">break</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">x</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #BABED8\"> x</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> x</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">unionn</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    x </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    y </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">x </span><span style=\"color: #89DDFF\">!=</span><span style=\"color: #BABED8\"> y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">x</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> y</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">signed</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">ios</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">sync_with_stdio</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cin</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">tie</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">),</span><span style=\"color: #BABED8\"> cout</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">tie</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cin </span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\"> a </span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\"> b </span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\"> p</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #82AAFF\">init</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\"> b</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> p</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\"> b</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">vis</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">])</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> j </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> j </span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\"> b</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> j </span><span style=\"color: #89DDFF\">+=</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                </span><span style=\"color: #82AAFF\">unionn</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> j</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#if</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">debug</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                cout </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> i </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> j </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\"> i j</span><span style=\"color: #BABED8\">\\n</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#endif</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> a</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #BABED8\"> b</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            ans</span><span style=\"color: #89DDFF\">++;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#if</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">debug</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            cout </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> i </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #BABED8\">\\n</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#endif</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#if</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">debug</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">else</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            cout </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">fa:</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\"> i:</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> i </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #BABED8\">\\n</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#endif</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\"> ans</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span></code></pre></div><h2 id=\"H-村村通\"><a href=\"#H-村村通\" class=\"headerlink\" title=\"H 村村通\"></a>H <a href=\"https://www.luogu.com.cn/problem/P1536\">村村通</a></h2><p>本人使用并查集+最小生成树。</p>\n<p>代码：</p>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">bits/stdc++.h</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">debug</span><span style=\"color: #BABED8\"> false</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">int</span><span style=\"color: #BABED8\"> long long</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">namespace</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> n</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> m</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">1005</span><span style=\"color: #89DDFF\">],</span><span style=\"color: #BABED8\">cnt</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">x</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #BABED8\"> x</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> x</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">unionn</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    x </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    y </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">find</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">y</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">if</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">x </span><span style=\"color: #89DDFF\">!=</span><span style=\"color: #BABED8\"> y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> y</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> cnt</span><span style=\"color: #89DDFF\">++;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">signed</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">ios</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">sync_with_stdio</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cin</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">tie</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">),</span><span style=\"color: #BABED8\"> cout</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">tie</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cin </span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\"> n</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">while</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">n </span><span style=\"color: #89DDFF\">!=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        cin </span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #F07178\"> m</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> i </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #F07178\"> i </span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #F07178\"> n</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #F07178\"> i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #BABED8\">fa</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">i</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> i</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        cnt </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> y</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> i </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #F07178\"> i </span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #F07178\"> m</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #F07178\"> i</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            cin </span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #F07178\"> x </span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #F07178\"> y</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">unionn</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">x</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> y</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        cout </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> n </span><span style=\"color: #89DDFF\">-</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">-</span><span style=\"color: #F07178\"> cnt </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #BABED8\">\\n</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        cin </span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #F07178\"> n</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span></code></pre></div>","feature":true,"text":"23-11-22 基础能力提升训练① 文章同载于CSDN D [CSP-J 2023] 公路今年（2023年）CSP-J T2，贪心。 贪心思想： 找到一个比当...","permalink":"/post/比赛总结1","photos":[],"count_time":{"symbolsCount":"6k","symbolsTime":"5 mins."},"categories":[{"name":"总结","slug":"总结","count":3,"path":"api/categories/总结.json"}],"tags":[{"name":"Post","slug":"Post","count":4,"path":"api/tags/Post.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#D-CSP-J-2023-%E5%85%AC%E8%B7%AF\"><span class=\"toc-text\">D [CSP-J 2023] 公路</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#E-%E4%BF%AE%E5%A4%8D%E5%85%AC%E8%B7%AF\"><span class=\"toc-text\">E 修复公路</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#F-%E7%82%B8%E9%93%81%E8%B7%AF\"><span class=\"toc-text\">F 炸铁路</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BD%9C%E4%B8%9A%E9%A2%98\"><span class=\"toc-text\">作业题</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#G-%E9%9B%86%E5%90%88\"><span class=\"toc-text\">G 集合</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0\"><span class=\"toc-text\">题目描述</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AD%94%E6%A1%88\"><span class=\"toc-text\">答案</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#H-%E6%9D%91%E6%9D%91%E9%80%9A\"><span class=\"toc-text\">H 村村通</span></a></li></ol></li></ol>","author":{"name":"Wu Bangwei","slug":"blog-author","avatar":"https://cdn.luogu.com.cn/upload/usericon/792595.png","link":"/","description":"这个家伙很菜 | Gå med MC utan ånger i detta liv, och vill vara en fyrkantig person i nästa liv!","socials":{"github":"https://github.com/wbw121124","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/wbw121124","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"e-mail to me","uid":"ad416a109aaac48059715d5547ee3cee","slug":"Mailtome","date":"2023-11-29T12:21:22.036Z","updated":"2023-11-29T13:03:05.918Z","comments":true,"path":"api/articles/Mailtome.json","keywords":null,"cover":null,"text":"e-mail to me ","permalink":"/post/Mailtome","photos":[],"count_time":{"symbolsCount":13,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Wu Bangwei","slug":"blog-author","avatar":"https://cdn.luogu.com.cn/upload/usericon/792595.png","link":"/","description":"这个家伙很菜 | Gå med MC utan ånger i detta liv, och vill vara en fyrkantig person i nästa liv!","socials":{"github":"https://github.com/wbw121124","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/wbw121124","juejin":"","customs":{}}},"feature":false},"next_post":{"title":"My New Post","uid":"9664945b0562f54f03173099af264118","slug":"My-New-Post","date":"2023-11-27T12:20:10.000Z","updated":"2023-11-30T07:15:04.668Z","comments":true,"path":"api/articles/My-New-Post.json","keywords":null,"cover":null,"text":" ","permalink":"/post/My-New-Post","photos":[],"count_time":{"symbolsCount":1,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"Post","slug":"Post","count":4,"path":"api/tags/Post.json"}],"author":{"name":"Wu Bangwei","slug":"blog-author","avatar":"https://cdn.luogu.com.cn/upload/usericon/792595.png","link":"/","description":"这个家伙很菜 | Gå med MC utan ånger i detta liv, och vill vara en fyrkantig person i nästa liv!","socials":{"github":"https://github.com/wbw121124","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/wbw121124","juejin":"","customs":{}}},"feature":false}}